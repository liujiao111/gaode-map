<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
		<title>折线、多边形、圆</title>
		<script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
		<link rel="stylesheet" href="http://cache.amap.com/lbs/static/main1119.css" />
		<script src="http://webapi.amap.com/maps?v=1.4.6&key=Fbfd53015b31face22d005829a3b4756"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=5KAySGU5Lr6CPvIZxzZA4MfjYu7rmhr6"></script>
		<script type="text/javascript" src="http://cache.amap.com/lbs/static/addToolbar.js"></script>
		<script type="text/javascript" src="KpPolygon.js"></script>
	</head>

	<body>
		
		<div id="container" style="margin-top:30px;">
			
			
		</div>
		<button onclick="removeOneCovering()">移除单个</button>
		<button onclick="removeAllCovering()">全部移除</button>
		<input type="hidden" id = 'polygonId'/>
		
		<!--
        	作者：offline
        	时间：2018-06-07
        	描述：百度/高德地图多边形覆盖物的渲染以及移除测试
        -->
		<script>
			var polygonStr1 = "113.517032,22.350776;113.517142,22.350645;113.517284,22.350511;113.517458,22.350362;113.517665,22.350168;113.518011,22.349841;113.518341,22.349516;113.518652,22.349149;113.518842,22.348978;113.518944,22.349072;113.519178,22.349657;113.519341,22.350238;113.519365,22.350709;113.519376,22.351096;113.519277,22.351498;113.519167,22.351863;113.519086,22.351888;113.518933,22.351893;113.518139,22.351739;113.51789,22.351674;113.517702,22.351555;113.517469,22.351349;113.517426,22.351253;113.51737,22.351076";
			var polygonStr2 = "113.551694,22.365569;113.549455,22.36153;113.546974,22.35702;113.546928,22.356998;113.546869,22.35702;113.546105,22.35742;113.54493,22.358001;113.544758,22.358111;113.544767,22.358574;113.54464,22.358674;113.54435,22.358557;113.543434,22.358486;113.542754,22.358597;113.542084,22.358871;113.54166,22.359164;113.541422,22.359254;113.540562,22.359402;113.54033,22.359483;113.539721,22.359979;113.539412,22.360144;113.538768,22.360258;113.538631,22.360329;113.538384,22.360631;113.538246,22.360717;113.538123,22.360729;113.538032,22.360696;113.537956,22.360589;113.537771,22.360267;113.537676,22.360159;113.537571,22.360108;113.537469,22.360118;113.537418,22.360173;113.537411,22.360299;113.537895,22.361154;113.537212,22.361799;113.536614,22.362593;113.536596,22.363083;113.536495,22.363227;113.536139,22.363234;113.53552,22.36333;113.534955,22.363467;113.534645,22.363467;113.53435,22.363414;113.534201,22.363523;113.533959,22.363901;113.533798,22.364036;113.533475,22.364092;113.533354,22.364281;113.5333,22.364618;113.533085,22.365023;113.532964,22.365483;113.53291,22.365941;113.532951,22.366454;113.533085,22.366804;113.533394,22.36733;113.533162,22.367546;113.532983,22.367464;113.531326,22.367242;113.530499,22.367278;113.530451,22.367276;113.530418,22.367256;113.530298,22.36712;113.529871,22.367045;113.529756,22.367;113.529464,22.366801;113.529088,22.366478;113.528926,22.366302;113.528752,22.366001;113.528511,22.365336;113.528313,22.364577;113.528223,22.364466;113.52801,22.364299;113.527516,22.364453;113.527421,22.364433;113.527354,22.364359;113.527275,22.3642;113.527239,22.364012;113.527209,22.363724;113.527094,22.363547;113.526979,22.363454;113.526843,22.363381;113.526523,22.36341;113.526222,22.363514;113.526076,22.363658;113.526069,22.364569;113.526092,22.36774;113.525745,22.368008;113.525551,22.368129;113.525463,22.368545;113.525476,22.368573;113.525508,22.368591;113.52559,22.368611;113.528346,22.368978;113.529769,22.369161;113.531197,22.369364;113.531346,22.369311;113.53142,22.369296;113.531516,22.369308;113.532066,22.369396;113.53222,22.369431;113.532397,22.369503;113.532934,22.369553;113.534739,22.369594;113.536443,22.369583;113.539432,22.369469;113.541957,22.36921;113.543991,22.368846;113.545895,22.368351;113.547232,22.367971;113.549615,22.367062;113.551518,22.366175;113.551659,22.36604;113.55172,22.365821";
			
			//移除单个
			function removeOneCovering() {
				var id = $("#polygonId").val();
				kpPolygon.removeOverLayerById(id);
			}
			
			//移除全部覆盖物
			function removeAllCovering() {
				kpPolygon.removeAllOverLayer();
			}
			
			
			function testAMap() {
				var map = new AMap.Map('container', {
					resizeEnable: true,
					center: [113.517032,22.350776],
					zoom: 13
				});

				var polygon1 = kpPolygon.addLayer(map, polygonStr1);
				var polygon2 = kpPolygon.addLayer(map, polygonStr2);
				$("#polygonId").val(polygon1['id']);
			}
			
			function testBMap() {
				var map = new BMap.Map("container");
				var point = new BMap.Point(113.517032,22.350776);
				map.centerAndZoom(point, 15);
			    var polygon1 = kpPolygon.addLayer(map, polygonStr1);
				var polygon2 = kpPolygon.addLayer(map, polygonStr2);
			    var id = polygon1['id']
			    $("#polygonId").val(id);
			}
			
			testAMap();

		</script>
	</body>

</html>